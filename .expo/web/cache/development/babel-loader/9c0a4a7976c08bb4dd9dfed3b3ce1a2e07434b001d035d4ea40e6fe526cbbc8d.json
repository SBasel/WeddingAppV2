{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useRef } from 'react';\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { FontAwesome } from '@expo/vector-icons';\nimport * as ImagePicker from 'expo-image-picker';\nimport { useNavigation } from '@react-navigation/native';\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport function VideoPicker() {\n  var navigation = useNavigation();\n  var _useState = useState(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    progress = _useState2[0],\n    setProgress = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isUploading = _useState4[0],\n    setIsUploading = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isLoading = _useState6[0],\n    setIsLoading = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    isModalVisible = _useState8[0],\n    setModalVisible = _useState8[1];\n  var xhr = useRef(null);\n  var abortUpload = function abortUpload() {\n    console.log(\"Attempting to abort upload\");\n    if (xhr.current) {\n      console.log(\"XHR exists. Trying to abort...\");\n      xhr.current.abort();\n    } else {\n      console.log(\"XHR does not exist or is not initialized.\");\n    }\n  };\n  var openVideoLibrary = function () {\n    var _ref = _asyncToGenerator(function* () {\n      setIsLoading(true);\n      var permissionResult = yield ImagePicker.requestMediaLibraryPermissionsAsync();\n      if (!permissionResult.granted) {\n        Alert.alert('Permission to access media library is required!');\n        setIsLoading(false);\n        return;\n      }\n      var pickerResult = yield ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.Videos\n      });\n      setIsLoading(false);\n      if (!pickerResult.canceled) {\n        var videoUri = pickerResult.uri;\n        uploadVid(videoUri);\n      }\n    });\n    return function openVideoLibrary() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var uploadVid = function () {\n    var _ref2 = _asyncToGenerator(function* (uri) {\n      setIsUploading(true);\n      var CHUNK_SIZE = 10 * 1024 * 1024;\n      var videoData = yield toBase64(uri);\n      var totalChunks = Math.ceil(videoData.length / CHUNK_SIZE);\n      console.log(`Total chunks to upload: ${totalChunks}`);\n      for (var i = 0; i < totalChunks; i++) {\n        var startByte = i * CHUNK_SIZE;\n        var endByte = Math.min(videoData.length, startByte + CHUNK_SIZE);\n        var chunk = videoData.slice(startByte, endByte);\n        var chunkData = {\n          index: i,\n          total: totalChunks,\n          video: chunk\n        };\n        xhr.current = new XMLHttpRequest();\n        xhr.current.open('POST', 'https://www.sbdci.de/kpw/uploadvid.php', true);\n        xhr.current.setRequestHeader('Content-Type', 'application/json');\n        xhr.current.upload.onprogress = function (event) {\n          if (event.lengthComputable) {\n            var percentComplete = Math.round(event.loaded / event.total * 100);\n            setProgress(percentComplete);\n          }\n        };\n        xhr.current.onload = function () {\n          setIsUploading(false);\n          if (xhr.current.status === 200) {\n            console.log(xhr.current.responseText);\n            setModalVisible(true);\n          } else {\n            console.error(\"Fehler beim Hochladen des Videos\");\n          }\n        };\n        xhr.current.onerror = function () {\n          console.error(\"Fehler beim Hochladen des Videos\");\n          setIsUploading(false);\n        };\n        xhr.current.onabort = function () {\n          console.log(\"Upload was aborted\");\n          setIsUploading(false);\n          setIsLoading(false);\n        };\n        xhr.current.send(JSON.stringify(chunkData));\n      }\n    });\n    return function uploadVid(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var toBase64 = function () {\n    var _ref3 = _asyncToGenerator(function* (uri) {\n      var response = yield fetch(uri);\n      var blob = yield response.blob();\n      console.log(`Converted video to base64. Length: ${blob.size}`);\n      return new Promise(function (resolve, reject) {\n        var reader = new FileReader();\n        reader.onloadend = function () {\n          return resolve(reader.result.split(',')[1]);\n        };\n        reader.onerror = reject;\n        reader.readAsDataURL(blob);\n      });\n    });\n    return function toBase64(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  return _jsxs(_Fragment, {\n    children: [_jsxs(TouchableOpacity, {\n      style: styles.iconButton,\n      onPress: openVideoLibrary,\n      children: [_jsx(FontAwesome, {\n        name: \"video-camera\",\n        size: 32\n      }), _jsx(Text, {\n        children: \"Upload a Video\"\n      })]\n    }), isLoading && _jsx(View, {\n      style: _objectSpread(_objectSpread({}, styles.centered), {}, {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0,0,0,0.5)'\n      }),\n      children: _jsx(ActivityIndicator, {\n        size: \"large\",\n        color: \"#0000ff\"\n      })\n    }), isUploading && _jsx(Modal, {\n      transparent: true,\n      animationType: \"slide\",\n      visible: isUploading,\n      onRequestClose: function onRequestClose() {\n        Alert.alert(\"Modal has been closed.\");\n      },\n      children: _jsx(View, {\n        style: {\n          flex: 1,\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        children: _jsxs(View, {\n          style: {\n            width: 300,\n            padding: 20,\n            backgroundColor: 'white',\n            borderRadius: 10,\n            alignItems: 'center'\n          },\n          children: [_jsx(Text, {\n            children: \"Uploading Video...\"\n          }), _jsxs(Text, {\n            children: [progress, \"%\"]\n          }), _jsx(TouchableOpacity, {\n            style: styles.cancelButton,\n            onPress: abortUpload,\n            children: _jsx(Text, {\n              style: {\n                color: 'white'\n              },\n              children: \"Abbrechen\"\n            })\n          })]\n        })\n      })\n    }), _jsx(Modal, {\n      animationType: \"slide\",\n      transparent: true,\n      visible: isModalVisible,\n      onRequestClose: function onRequestClose() {\n        setModalVisible(!isModalVisible);\n      },\n      children: _jsx(View, {\n        style: styles.centered,\n        children: _jsxs(View, {\n          style: styles.modalView,\n          children: [_jsx(Text, {\n            children: \"Video erfolgreich gespeichert!\"\n          }), _jsx(TouchableOpacity, {\n            style: {\n              marginTop: 10\n            },\n            onPress: function onPress() {\n              setModalVisible(!isModalVisible);\n              navigation.navigate('Camera');\n            },\n            children: _jsx(Text, {\n              children: \"OK\"\n            })\n          })]\n        })\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  iconButton: {\n    padding: 10,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  cancelButton: {\n    marginTop: 10,\n    padding: 10,\n    backgroundColor: 'red',\n    borderRadius: 5\n  },\n  centered: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  modalView: {\n    width: 300,\n    padding: 20,\n    backgroundColor: 'white',\n    borderRadius: 10,\n    alignItems: 'center'\n  }\n});","map":{"version":3,"names":["React","useState","useRef","TouchableOpacity","StyleSheet","Alert","Modal","View","Text","FontAwesome","ImagePicker","useNavigation","ActivityIndicator","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","VideoPicker","navigation","_useState","_useState2","_slicedToArray","progress","setProgress","_useState3","_useState4","isUploading","setIsUploading","_useState5","_useState6","isLoading","setIsLoading","_useState7","_useState8","isModalVisible","setModalVisible","xhr","abortUpload","console","log","current","abort","openVideoLibrary","_ref","_asyncToGenerator","permissionResult","requestMediaLibraryPermissionsAsync","granted","alert","pickerResult","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","Videos","canceled","videoUri","uri","uploadVid","apply","arguments","_ref2","CHUNK_SIZE","videoData","toBase64","totalChunks","Math","ceil","length","i","startByte","endByte","min","chunk","slice","chunkData","index","total","video","XMLHttpRequest","open","setRequestHeader","upload","onprogress","event","lengthComputable","percentComplete","round","loaded","onload","status","responseText","error","onerror","onabort","send","JSON","stringify","_x","_ref3","response","fetch","blob","size","Promise","resolve","reject","reader","FileReader","onloadend","result","split","readAsDataURL","_x2","children","style","styles","iconButton","onPress","name","_objectSpread","centered","position","top","left","right","bottom","backgroundColor","color","transparent","animationType","visible","onRequestClose","flex","justifyContent","alignItems","width","padding","borderRadius","cancelButton","modalView","marginTop","navigate","create"],"sources":["/home/dci-student/DCIFolder/WAppV2/WeddingApp2.0/comp/Camera/VideoPicker.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { TouchableOpacity, StyleSheet, Alert, Modal, View, Text } from 'react-native';\nimport { FontAwesome } from '@expo/vector-icons'; \nimport * as ImagePicker from 'expo-image-picker';\nimport { useNavigation } from '@react-navigation/native';\nimport { ActivityIndicator } from 'react-native';\n\n\nexport function VideoPicker() {\n    const navigation = useNavigation();\n    const [progress, setProgress] = useState(0);\n    const [isUploading, setIsUploading] = useState(false);\n    const [isLoading, setIsLoading] = useState(false);\n    const [isModalVisible, setModalVisible] = useState(false);\n    \n    const xhr = useRef(null);\n\n    const abortUpload = () => {\n        console.log(\"Attempting to abort upload\");\n        if (xhr.current) {\n            console.log(\"XHR exists. Trying to abort...\");\n            xhr.current.abort();\n        } else {\n            console.log(\"XHR does not exist or is not initialized.\");\n        }\n    };\n\n    const openVideoLibrary = async () => {\n    setIsLoading(true); \n\n    const permissionResult = await ImagePicker.requestMediaLibraryPermissionsAsync();\n\n    if (!permissionResult.granted) {\n        Alert.alert('Permission to access media library is required!');\n        setIsLoading(false);  // Setzen Sie es auf false, wenn die Berechtigung nicht erteilt wird\n        return;\n    }\n\n    const pickerResult = await ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.Videos\n    });\n    \n    setIsLoading(false);  // Setzen Sie es auf false, sobald die Auswahl abgeschlossen ist (unabhängig vom Ergebnis)\n\n    if (!pickerResult.canceled) {\n        const videoUri = pickerResult.uri;\n        uploadVid(videoUri);\n    }\n};\n\n\n      const uploadVid = async (uri) => {\n        setIsUploading(true);\n        \n        const CHUNK_SIZE = 10 * 1024 * 1024; // 10 MB\n        const videoData = await toBase64(uri);\n        const totalChunks = Math.ceil(videoData.length / CHUNK_SIZE);\n\n        console.log(`Total chunks to upload: ${totalChunks}`);\n\n        for (let i = 0; i < totalChunks; i++) {\n            const startByte = i * CHUNK_SIZE;\n            const endByte = Math.min(videoData.length, startByte + CHUNK_SIZE);\n\n            const chunk = videoData.slice(startByte, endByte);\n            const chunkData = {\n                index: i,\n                total: totalChunks,\n                video: chunk\n            };\n\n            xhr.current = new XMLHttpRequest();\n            xhr.current.open('POST', 'https://www.sbdci.de/kpw/uploadvid.php', true);\n            xhr.current.setRequestHeader('Content-Type', 'application/json');\n            \n            xhr.current.upload.onprogress = (event) => {\n                if (event.lengthComputable) {\n                    const percentComplete = Math.round((event.loaded / event.total) * 100);\n                    setProgress(percentComplete);\n                }\n            };\n\n            xhr.current.onload = () => {\n                setIsUploading(false);\n                if (xhr.current.status === 200) {\n                    console.log(xhr.current.responseText);\n                    setModalVisible(true); // Zeige das erfolgreiche Upload-Modal an\n                } else {\n                    console.error(\"Fehler beim Hochladen des Videos\");\n                }\n            };\n\n            xhr.current.onerror = () => {\n                console.error(\"Fehler beim Hochladen des Videos\");\n                setIsUploading(false);\n            };\n\n            xhr.current.onabort = () => {\n                console.log(\"Upload was aborted\");\n                setIsUploading(false);\n                setIsLoading(false);\n            };\n\n            xhr.current.send(JSON.stringify(chunkData));\n        }\n    };\n\n    const toBase64 = async (uri) => {\n        const response = await fetch(uri);\n        const blob = await response.blob();\n        console.log(`Converted video to base64. Length: ${blob.size}`);\n        return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            reader.onloadend = () => resolve(reader.result.split(',')[1]);\n            reader.onerror = reject;\n            reader.readAsDataURL(blob);\n        });\n    };\n\n    return (\n        <>\n            <TouchableOpacity style={styles.iconButton} onPress={openVideoLibrary}>\n                <FontAwesome name=\"video-camera\" size={32} />\n                <Text>Upload a Video</Text>\n            </TouchableOpacity>\n            {isLoading && (\n            <View style={{...styles.centered, position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, backgroundColor: 'rgba(0,0,0,0.5)'}}>\n                <ActivityIndicator size=\"large\" color=\"#0000ff\" />\n            </View>\n            )}\n            {isUploading && (\n                <Modal\n                    transparent={true}\n                    animationType=\"slide\"\n                    visible={isUploading}\n                    onRequestClose={() => {\n                        Alert.alert(\"Modal has been closed.\");\n                    }}\n                >\n                    <View style={{flex: 1, justifyContent: 'center', alignItems: 'center'}}>\n                        <View style={{width: 300, padding: 20, backgroundColor: 'white', borderRadius: 10, alignItems: 'center'}}>\n                            <Text>Uploading Video...</Text>\n                            <Text>{progress}%</Text>\n                            <TouchableOpacity style={styles.cancelButton} onPress={abortUpload}>\n                                <Text style={{ color: 'white' }}>Abbrechen</Text>\n                            </TouchableOpacity>\n                        </View>\n                    </View>\n                </Modal>\n            )}\n            <Modal\n                animationType=\"slide\"\n                transparent={true}\n                visible={isModalVisible}\n                onRequestClose={() => {\n                    setModalVisible(!isModalVisible);\n                }}\n            >\n                <View style={styles.centered}>\n                    <View style={styles.modalView}>\n                        <Text>Video erfolgreich gespeichert!</Text>\n                        <TouchableOpacity\n                            style={{ marginTop: 10 }}\n                            onPress={() => {\n                                setModalVisible(!isModalVisible);\n                                navigation.navigate('Camera');\n                            }}\n                        >\n                            <Text>OK</Text>\n                        </TouchableOpacity>\n                    </View>\n                </View>\n            </Modal>\n        </>\n    );\n}\n\nconst styles = StyleSheet.create({\n    iconButton: {\n        padding: 10,\n        justifyContent: 'center',\n        alignItems: 'center'\n    },\n    cancelButton: {\n        marginTop: 10,\n        padding: 10,\n        backgroundColor: 'red',\n        borderRadius: 5\n    },\n    centered: {\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center'\n    },\n    modalView: {\n        width: 300,\n        padding: 20,\n        backgroundColor: 'white',\n        borderRadius: 10,\n        alignItems: 'center'\n    }\n});\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}