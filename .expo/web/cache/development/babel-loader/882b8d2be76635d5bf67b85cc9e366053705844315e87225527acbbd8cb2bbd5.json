{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nexport var uploadImage = function () {\n  var _ref = _asyncToGenerator(function* (uri) {\n    var base64Img = `data:image/jpg;base64,${yield toBase64(uri)}`;\n    var data = {\n      image: base64Img\n    };\n    try {\n      var response = yield fetch('https://www.Sbdci.de/kpw/upload.php', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      });\n      var text = yield response.text();\n      console.log(text);\n    } catch (error) {\n      console.error(\"Fehler beim Hochladen des Bildes\", error);\n    }\n  });\n  return function uploadImage(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar toBase64 = function () {\n  var _ref2 = _asyncToGenerator(function* (uri) {\n    var response = yield fetch(uri);\n    var blob = yield response.blob();\n    return new Promise(function (resolve, reject) {\n      var reader = new FileReader();\n      reader.onloadend = function () {\n        return resolve(reader.result.split(',')[1]);\n      };\n      reader.onerror = reject;\n      reader.readAsDataURL(blob);\n    });\n  });\n  return function toBase64(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["uploadImage","_ref","_asyncToGenerator","uri","base64Img","toBase64","data","image","response","fetch","method","headers","body","JSON","stringify","text","console","log","error","_x","apply","arguments","_ref2","blob","Promise","resolve","reject","reader","FileReader","onloadend","result","split","onerror","readAsDataURL","_x2"],"sources":["/home/dci-student/DCIFolder/WAppV2/WeddingApp2.0/comp/Camera/UploadImage.js"],"sourcesContent":["export const uploadImage = async (uri) => {\n    let base64Img = `data:image/jpg;base64,${await toBase64(uri)}`;\n\n    let data = {\n        image: base64Img\n    };\n\n    try {\n        const response = await fetch('https://www.Sbdci.de/kpw/upload.php', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(data),\n        });\n        const text = await response.text();\n        console.log(text);\n    } catch (error) {\n        console.error(\"Fehler beim Hochladen des Bildes\", error);\n    }\n}\n\nconst toBase64 = async (uri) => {\n    const response = await fetch(uri);\n    const blob = await response.blob();\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onloadend = () => resolve(reader.result.split(',')[1]);\n        reader.onerror = reject;\n        reader.readAsDataURL(blob);\n    });\n};\n"],"mappings":";AAAA,OAAO,IAAMA,WAAW;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,WAAOC,GAAG,EAAK;IACtC,IAAIC,SAAS,GAAI,yBAAsB,MAAQC,QAAQ,CAACF,GAAG,CAAE,EAAC;IAE9D,IAAIG,IAAI,GAAG;MACPC,KAAK,EAAEH;IACX,CAAC;IAED,IAAI;MACA,IAAMI,QAAQ,SAASC,KAAK,CAAC,qCAAqC,EAAE;QAChEC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACR,IAAI;MAC7B,CAAC,CAAC;MACF,IAAMS,IAAI,SAASP,QAAQ,CAACO,IAAI,CAAC,CAAC;MAClCC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;IACrB,CAAC,CAAC,OAAOG,KAAK,EAAE;MACZF,OAAO,CAACE,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;IAC5D;EACJ,CAAC;EAAA,gBApBYlB,WAAWA,CAAAmB,EAAA;IAAA,OAAAlB,IAAA,CAAAmB,KAAA,OAAAC,SAAA;EAAA;AAAA,GAoBvB;AAED,IAAMhB,QAAQ;EAAA,IAAAiB,KAAA,GAAApB,iBAAA,CAAG,WAAOC,GAAG,EAAK;IAC5B,IAAMK,QAAQ,SAASC,KAAK,CAACN,GAAG,CAAC;IACjC,IAAMoB,IAAI,SAASf,QAAQ,CAACe,IAAI,CAAC,CAAC;IAClC,OAAO,IAAIC,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM,EAAK;MACpC,IAAMC,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;MAC/BD,MAAM,CAACE,SAAS,GAAG;QAAA,OAAMJ,OAAO,CAACE,MAAM,CAACG,MAAM,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;MAAA;MAC7DJ,MAAM,CAACK,OAAO,GAAGN,MAAM;MACvBC,MAAM,CAACM,aAAa,CAACV,IAAI,CAAC;IAC9B,CAAC,CAAC;EACN,CAAC;EAAA,gBATKlB,QAAQA,CAAA6B,GAAA;IAAA,OAAAZ,KAAA,CAAAF,KAAA,OAAAC,SAAA;EAAA;AAAA,GASb"},"metadata":{},"sourceType":"module","externalDependencies":[]}